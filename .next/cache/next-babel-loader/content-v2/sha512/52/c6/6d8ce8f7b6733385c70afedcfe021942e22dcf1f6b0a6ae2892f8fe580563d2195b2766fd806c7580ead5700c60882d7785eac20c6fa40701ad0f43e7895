{"ast":null,"code":"import client from \"lib/sanity\";\nimport imageUrlBuilder from \"@sanity/image-url\";\nconst builder = imageUrlBuilder(client);\nexport const urlFor = source => {\n  return builder.image(source);\n};\nexport const getAllPosts = async () => {\n  const posts = await client.fetch(`*[_type==\"post\"]{_createdAt, title, subtitle, date, 'image': cover_image.asset->url, 'slug':slug.current, 'publisher':publisher->{title, 'picture': picture.asset->url }}`);\n  return posts;\n};\nexport const getPostBySlug = async slug => {\n  const post = await client.fetch(`*[_type==\"post\" && slug.current==$slug]{_createdAt, title, subtitle, date, content[]{...,'asset': asset->} , cover_image, 'slug':slug.current, 'publisher':publisher->{title, 'picture': picture.asset->url,  }}`, {\n    slug\n  });\n  return post;\n};","map":{"version":3,"sources":["/home/nyambayar/apps/example/blog/lib/api.js"],"names":["client","imageUrlBuilder","builder","urlFor","source","image","getAllPosts","posts","fetch","getPostBySlug","slug","post"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,YAAnB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AAEA,MAAMC,OAAO,GAAGD,eAAe,CAACD,MAAD,CAA/B;AAEA,OAAO,MAAMG,MAAM,GAAIC,MAAD,IAAY;AAChC,SAAOF,OAAO,CAACG,KAAR,CAAcD,MAAd,CAAP;AACD,CAFM;AAIP,OAAO,MAAME,WAAW,GAAG,YAAY;AACrC,QAAMC,KAAK,GAAG,MAAMP,MAAM,CAACQ,KAAP,CACjB,2KADiB,CAApB;AAGA,SAAOD,KAAP;AACD,CALM;AAOP,OAAO,MAAME,aAAa,GAAG,MAAOC,IAAP,IAAgB;AAC3C,QAAMC,IAAI,GAAG,MAAMX,MAAM,CAACQ,KAAP,CAChB,kNADgB,EAEjB;AAAEE,IAAAA;AAAF,GAFiB,CAAnB;AAIA,SAAOC,IAAP;AACD,CANM","sourcesContent":["import client from \"lib/sanity\";\nimport imageUrlBuilder from \"@sanity/image-url\";\n\nconst builder = imageUrlBuilder(client);\n\nexport const urlFor = (source) => {\n  return builder.image(source);\n};\n\nexport const getAllPosts = async () => {\n  const posts = await client.fetch(\n    `*[_type==\"post\"]{_createdAt, title, subtitle, date, 'image': cover_image.asset->url, 'slug':slug.current, 'publisher':publisher->{title, 'picture': picture.asset->url }}`\n  );\n  return posts;\n};\n\nexport const getPostBySlug = async (slug) => {\n  const post = await client.fetch(\n    `*[_type==\"post\" && slug.current==$slug]{_createdAt, title, subtitle, date, content[]{...,'asset': asset->} , cover_image, 'slug':slug.current, 'publisher':publisher->{title, 'picture': picture.asset->url,  }}`,\n    { slug }\n  );\n  return post;\n};\n"]},"metadata":{},"sourceType":"module"}